<?xml version="1.0" encoding="UTF-8"?>
<Export generator="Cache" version="25">
<CSP name="js/script.js" application="/csp/sampleuidev/" default="1"><![CDATA[
'use strict'

init();

// Events
$('input#myInput').keyup(function (event) {
  if (event.keyCode == 13) {
    if ($(this).val().length != 0)
      postTaskAJAX($(this).val(), $('select#cat option:selected').attr('id'));
  }
});

$('span.addBtn').click(function (event) {
  if ($('input#myInput').val().length != 0)
      postTaskAJAX($('input#myInput').val(), $('select#cat option:selected').attr('id'));
});

$('select#cat').change(function(e) {
  $('ul#myUL li').remove();
  getTasksAJAX($('select#cat option:selected').attr('id'));
});

function init() {
  $('input#myInput').attr("placeholder", "Title...")
  check();
  getCategoriesAJAX();
}

function addTask(id, text, checked) {
  var li = $('<li id="'+id+'"/>').text(text);

  if (checked) li.addClass('checked');


  $("<span/>", {
      'class': 'close',
      text : '\u00D7',
      click: function(event) {
        $(this).parent().off();
        deleteTaskAJAX($(this).parent().attr('id'));
      } 
  }).appendTo(li);

  $('ul#myUL').prepend(li);

  li.click(function(event) {

    var checked = $(this).hasClass('checked')?0:1;

    putTaskAJAX($(this).attr('id'), checked);
  })
}]]></CSP>
</Export>
